(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{CedQ:function(t,e,n){"use strict";n.r(e);var o,r=n("CcnG"),l=function(){return function(){}}(),c=n("cyBs"),i=n("y5Pl"),u=n("M+1Z"),a=n("JEFa"),s=n("pMnS"),p=n("OMr1"),b=n("DCf/"),d=n("MZFh"),j=n("Ip0R"),f=n("yGQT");!function(t){t.PROJECTS_QUERY="[Projects] Projects query",t.PROJECTS_LOADED="[Projects] Projects loaded",t.PROJECT_ADDED="[Projects] Project added",t.PROJECT_EDITED="[Projects] Project edited",t.PROJECT_DELETED="[Projects] Project deleted",t.PROJECTS_ERROR="[Projects] Projects error"}(o||(o={}));var h=function(){return function(){this.type=o.PROJECTS_QUERY}}(),O=function(){return function(t){this.payload=t,this.type=o.PROJECTS_LOADED}}(),y=function(){return function(t){this.payload=t,this.type=o.PROJECT_ADDED}}(),E=function(){return function(t){this.payload=t,this.type=o.PROJECT_EDITED}}(),g=function(){return function(t){this.payload=t,this.type=o.PROJECT_DELETED}}(),P=function(){return function(t){this.payload=t,this.type=o.PROJECTS_ERROR}}(),R=Object(f.B)("projects"),z=Object(f.D)(R,function(t){return t.projects}),m=Object(f.D)(R,function(t){return t.loading}),v=(Object(f.D)(R,function(t){return t.error}),n("67Y/")),D=n("t9fZ"),C=n("d2bA"),T=n("qyy/"),J=n("CB3U"),w=function(){return(w=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},S=function(){function t(t,e,n){this.store=t,this.modalService=e,this.afAuth=n,this.modalConfig={class:"modal-dialog-centered"}}return t.prototype.ngOnInit=function(){var t=this;this.isLoading$=this.store.select(m),this.projects$=this.store.pipe(Object(f.E)(z),Object(v.a)(function(e){return t.user&&!e&&t.store.dispatch(new h),e}))},Object.defineProperty(t.prototype,"user",{get:function(){return this.afAuth.auth.currentUser},enumerable:!0,configurable:!0}),t.prototype.openAddProjectModal=function(){var t=this;this.modalRef=this.modalService.show(T.a,this.modalConfig),this.modalRef.content.heading="Add new project",this.modalRef.content.projectData.pipe(Object(D.a)(1)).subscribe(function(e){t.store.dispatch(new y({project:e}))})},t.prototype.openEditProjectModal=function(t){var e=this;this.modalRef=this.modalService.show(T.a,this.modalConfig),this.modalRef.content.heading="Edit project";var n=w({},t);this.modalRef.content.project=n,this.modalRef.content.projectData.pipe(Object(D.a)(1)).subscribe(function(t){e.store.dispatch(new E({project:t}))})},t.prototype.openConfirmModal=function(t){var e=this;this.modalRef=this.modalService.show(C.a,this.modalConfig),this.modalRef.content.confirmation.pipe(Object(D.a)(1)).subscribe(function(n){n&&e.store.dispatch(new g({project:t}))})},t.prototype.onProjectDelete=function(t){this.openConfirmModal(t)},t.prototype.onProjectEdit=function(t){this.openEditProjectModal(t)},t}(),_=r.pb({encapsulation:0,styles:[[".container-fluid[_ngcontent-%COMP%]{background:url(northstar.97b897b1e2f735588ff2.jpg) 0 0/cover #000}"]],data:{}});function $(t){return r.Jb(0,[(t()(),r.rb(0,0,null,null,3,"div",[["class","d-flex justify-content-center align-items-center"],["style","margin-top: 200px"]],null,null,null,null,null)),(t()(),r.rb(1,0,null,null,2,"div",[["class","spinner-grow text-primary"],["role","status"],["style","width: 4rem; height: 4rem;"]],null,null,null,null,null)),(t()(),r.rb(2,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Loading..."]))],null,null)}function k(t){return r.Jb(0,[(t()(),r.rb(0,0,null,null,15,"div",[["class","container-fluid pb-5"]],null,null,null,null,null)),(t()(),r.rb(1,0,null,null,4,"div",[["class","section-header"]],null,null,null,null,null)),(t()(),r.rb(2,0,null,null,1,"h3",[["class","grey-text"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Projects list"])),(t()(),r.rb(4,0,null,null,1,"p",[["class","grey-text pt-3"]],null,null,null,null,null)),(t()(),r.Hb(-1,null,["Add, edit and delete your projects"])),(t()(),r.rb(6,0,null,null,9,"div",[["class","py-5"]],null,null,null,null,null)),(t()(),r.rb(7,0,null,null,2,"button",[["class","ml-3"],["color","primary"],["mdbBtn",""]],null,[[null,"click"]],function(t,e,n){var o=!0;return"click"===e&&(o=!1!==t.component.openAddProjectModal()&&o),o},null,null)),r.qb(8,81920,null,0,p.I,[r.k,r.F],{color:[0,"color"]},null),(t()(),r.Hb(-1,null,["Add new project"])),(t()(),r.rb(10,0,null,null,2,"app-projects-list",[],null,[[null,"projectDeleted"],[null,"projectEdited"]],function(t,e,n){var o=!0,r=t.component;return"projectDeleted"===e&&(o=!1!==r.onProjectDelete(n)&&o),"projectEdited"===e&&(o=!1!==r.onProjectEdit(n)&&o),o},b.b,b.a)),r.qb(11,114688,null,0,d.a,[],{projects:[0,"projects"]},{projectDeleted:"projectDeleted",projectEdited:"projectEdited"}),r.Cb(131072,j.b,[r.h]),(t()(),r.ib(16777216,null,null,2,null,$)),r.qb(14,16384,null,0,j.k,[r.Q,r.N],{ngIf:[0,"ngIf"]},null),r.Cb(131072,j.b,[r.h])],function(t,e){var n=e.component;t(e,8,0,"primary"),t(e,11,0,r.Ib(e,11,0,r.Bb(e,12).transform(n.projects$))),t(e,14,0,r.Ib(e,14,0,r.Bb(e,15).transform(n.isLoading$)))},null)}function A(t){return r.Jb(0,[(t()(),r.rb(0,0,null,null,1,"app-projects",[],null,null,null,k,_)),r.qb(1,114688,null,0,S,[f.n,p.E,J.a],null,null)],function(t,e){t(e,1,0)},null)}var M=r.nb("app-projects",S,A,{},{},[]),q=n("gIcY"),F=n("t/Na"),I=n("PCNd"),L=n("ZYCi"),U=function(){return function(){}}(),Y={projects:null,loading:!1,error:null};function x(t,e){switch(void 0===t&&(t=Y),e.type){case o.PROJECTS_QUERY:return Object.assign({},t,{loading:!0});case o.PROJECTS_LOADED:return Object.assign({},t,{projects:e.payload.projects,loading:!1});case o.PROJECTS_ERROR:return Object.assign({},t,{loading:!1,error:e.payload.error});default:return t}}var B=n("mrSG"),N=n("jYNz"),Q=n("/PH2"),Z=n("15JJ"),H=n("9Z1F"),G=n("F/XL"),X=n("Xd88"),K=function(){function t(t,e,n){var r=this;this.actions$=t,this.projectsService=e,this.store=n,this.query$=this.actions$.pipe(Object(N.d)(o.PROJECTS_QUERY),Object(Q.a)(this.store.pipe(Object(f.E)(X.e))),Object(Z.a)(function(t){return r.projectsService.get(t[1].uid).pipe(Object(v.a)(function(t){var e=t.map(function(t){var e=t.payload.key,n=t.payload.val();return{key:e||null,title:n.title||null,description:n.description||null,photoUrl:n.photoUrl||null}});return new O({projects:e})}),Object(H.a)(function(t){return Object(G.a)(new P({error:t}))}))})),this.added$=this.actions$.pipe(Object(N.d)(o.PROJECT_ADDED),Object(v.a)(function(t){return t.payload}),Object(Q.a)(this.store.pipe(Object(f.E)(X.e))),Object(Z.a)(function(t){return r.projectsService.add(t[0].project,t[1].uid)})),this.delete$=this.actions$.pipe(Object(N.d)(o.PROJECT_DELETED),Object(v.a)(function(t){return t.payload}),Object(Q.a)(this.store.pipe(Object(f.E)(X.e))),Object(Z.a)(function(t){return r.projectsService.delete(t[0].project,t[1].uid)})),this.edit$=this.actions$.pipe(Object(N.d)(o.PROJECT_EDITED),Object(v.a)(function(t){return t.payload}),Object(Q.a)(this.store.pipe(Object(f.E)(X.e))),Object(Z.a)(function(t){return r.projectsService.update(t[0].project,t[1].uid)}))}return Object(B.b)([Object(N.b)(),Object(B.d)("design:type",Object)],t.prototype,"query$",void 0),Object(B.b)([Object(N.b)({dispatch:!1}),Object(B.d)("design:type",Object)],t.prototype,"added$",void 0),Object(B.b)([Object(N.b)({dispatch:!1}),Object(B.d)("design:type",Object)],t.prototype,"delete$",void 0),Object(B.b)([Object(N.b)({dispatch:!1}),Object(B.d)("design:type",Object)],t.prototype,"edit$",void 0),t}(),V=n("8cB+");n.d(e,"ProjectsModuleNgFactory",function(){return W});var W=r.ob(l,[],function(t){return r.yb([r.zb(512,r.j,r.db,[[8,[c.c,c.d,i.a,u.a,a.a,s.a,M]],[3,r.j],r.z]),r.zb(4608,j.m,j.l,[r.v,[2,j.u]]),r.zb(4608,q.v,q.v,[]),r.zb(4608,F.h,F.n,[j.d,r.D,F.l]),r.zb(4608,F.o,F.o,[F.h,F.m]),r.zb(5120,F.a,function(t){return[t]},[F.o]),r.zb(4608,F.k,F.k,[]),r.zb(6144,F.i,null,[F.k]),r.zb(4608,F.g,F.g,[F.i]),r.zb(6144,F.b,null,[F.g]),r.zb(4608,F.f,F.j,[F.b,r.r]),r.zb(4608,F.c,F.c,[F.f]),r.zb(1073742336,j.c,j.c,[]),r.zb(1073742336,p.Z,p.Z,[]),r.zb(1073742336,p.y,p.y,[]),r.zb(1073742336,p.x,p.x,[]),r.zb(1073742336,p.w,p.w,[]),r.zb(1073742336,q.t,q.t,[]),r.zb(1073742336,q.i,q.i,[]),r.zb(1073742336,p.j,p.j,[]),r.zb(1073742336,p.k,p.k,[]),r.zb(1073742336,I.a,I.a,[]),r.zb(1073742336,L.n,L.n,[[2,L.t],[2,L.k]]),r.zb(1073742336,U,U,[]),r.zb(1073742336,F.e,F.e,[]),r.zb(1073742336,F.d,F.d,[]),r.zb(1073742336,p.ob,p.ob,[]),r.zb(1024,f.F,function(){return[{}]},[]),r.zb(1024,f.j,function(){return[{key:"projects",reducerFactory:f.z,metaReducers:[],initialState:void 0}]},[]),r.zb(1024,f.G,f.H,[r.r,f.F,f.j]),r.zb(1024,f.q,function(){return[x]},[]),r.zb(1024,f.r,function(t){return[t]},[f.q]),r.zb(1024,f.b,function(t,e,n){return[f.w(t,e,n)]},[r.r,f.q,f.r]),r.zb(1073873408,f.o,f.o,[f.G,f.b,f.g,f.p]),r.zb(512,K,K,[N.a,V.a,f.n]),r.zb(1024,N.i,function(t){return[N.e(t)]},[K]),r.zb(1073742336,N.g,N.g,[N.f,N.i,[2,f.p],[2,f.o]]),r.zb(1073742336,l,l,[]),r.zb(1024,L.i,function(){return[[{path:"",component:S}]]},[]),r.zb(256,F.l,"XSRF-TOKEN",[]),r.zb(256,F.m,"X-XSRF-TOKEN",[])])})}}]);