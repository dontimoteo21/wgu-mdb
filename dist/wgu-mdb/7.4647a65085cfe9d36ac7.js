(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{bikW:function(l,n,t){"use strict";t.r(n);var u=t("CcnG"),r=function(){return function(){}}(),e=t("cyBs"),a=t("pMnS"),s=t("OMr1"),i=function(){function l(){this.chartType="line",this.chartColors=[{backgroundColor:"rgba(255, 152, 0, .5)",borderColor:"rgb(230,81,0)",borderWidth:2}],this.chartOptions={responsive:!0,maintainAspectRatio:!1}}return l.prototype.ngOnInit=function(){},l}(),o=u.pb({encapsulation:0,styles:[[""]],data:{}});function c(l){return u.Jb(2,[(l()(),u.rb(0,0,null,null,2,"div",[["style","display: block"]],null,null,null,null,null)),(l()(),u.rb(1,0,null,null,1,"canvas",[["height","500px"],["mdbChart",""]],null,null,null,null,null)),u.qb(2,737280,null,0,s.b,[u.k,u.D],{datasets:[0,"datasets"],labels:[1,"labels"],options:[2,"options"],chartType:[3,"chartType"],colors:[4,"colors"],legend:[5,"legend"]},null)],function(l,n){var t=n.component;l(n,2,0,t.dataset,t.labels,t.chartOptions,t.chartType,t.chartColors,!0)},null)}var b,h=t("Ip0R"),p=function(){function l(){this.chartType="pie",this.chartColors=[{backgroundColor:["#F7464A","#46BFBD","#FDB45C","#949FB1","#4D5360"],hoverBackgroundColor:["#FF5A5E","#5AD3D1","#FFC870","#A8B3C5","#616774"],borderWidth:2}],this.chartOptions={responsive:!0}}return l.prototype.ngOnInit=function(){},l}(),d=u.pb({encapsulation:0,styles:[[""]],data:{}});function f(l){return u.Jb(0,[(l()(),u.rb(0,0,null,null,2,"div",[["style","display: block"]],null,null,null,null,null)),(l()(),u.rb(1,0,null,null,1,"canvas",[["mdbChart",""]],null,null,null,null,null)),u.qb(2,737280,null,0,s.b,[u.k,u.D],{datasets:[0,"datasets"],labels:[1,"labels"],options:[2,"options"],chartType:[3,"chartType"],colors:[4,"colors"],legend:[5,"legend"]},null)],function(l,n){var t=n.component;l(n,2,0,t.dataset,t.labels,t.chartOptions,t.chartType,t.chartColors,!0)},null)}!function(l){l.LINE_CHART_QUERY="[Charts] Line chart query",l.LINE_CHART_LOADED="[Charts] Line chart loaded",l.BAR_CHART_QUERY="[Charts] Bar chart query",l.BAR_CHART_LOADED="[Charts] Bar chart loaded",l.CHARTS_ERROR="[Charts] Error"}(b||(b={}));var y=function(){return function(l){this.payload=l,this.type=b.LINE_CHART_QUERY}}(),g=function(){return function(){this.type=b.BAR_CHART_QUERY}}(),C=function(){return function(l){this.payload=l,this.type=b.LINE_CHART_LOADED}}(),m=function(){return function(l){this.payload=l,this.type=b.BAR_CHART_LOADED}}(),v=function(){return function(l){this.payload=l,this.type=b.CHARTS_ERROR}}(),O=t("yGQT"),R=Object(O.B)("charts"),j=Object(O.D)(R,function(l){return l.lineChartData}),D=Object(O.D)(R,function(l){return l.barChartData}),E=Object(O.D)(R,function(l){return l.barChartLoading&&l.lineChartLoading}),z=function(){function l(l){this.store=l,this.dataset=[{data:[],label:""}],this.labels=[],this.barChartDataset=[{data:[],label:""}],this.barChartLabels=[]}return l.prototype.ngOnInit=function(){var l=this;this.isLoading$=this.store.select(E),this.lineChartSub=this.store.select(j).subscribe(function(n){n.values?(l.dataset=[{data:n.values,label:n.currencyName+" exchange rates (base EUR)"}],l.labels=n.labels):l.getExchangeRates("USD")}),this.barChartSub=this.store.select(D).subscribe(function(n){n.values?(l.barChartDataset=[{data:n.values,label:n.date+" exchange rates (base "+n.base+")"}],l.barChartLabels=n.labels):l.getLatestExchangeRates()})},l.prototype.getExchangeRates=function(l){this.store.dispatch(new y({currency:l}))},l.prototype.getLatestExchangeRates=function(){this.store.dispatch(new g)},l.prototype.ngOnDestroy=function(){this.lineChartSub&&this.lineChartSub.unsubscribe(),this.barChartSub&&this.barChartSub.unsubscribe()},l}(),L=u.pb({encapsulation:0,styles:[[".container-fluid[_ngcontent-%COMP%]{background:url(northstar.97b897b1e2f735588ff2.jpg) 0 0/cover #000}"]],data:{}});function k(l){return u.Jb(0,[(l()(),u.rb(0,0,null,null,3,"div",[["class","d-flex justify-content-center align-items-center"],["style","margin-top: 300px"]],null,null,null,null,null)),(l()(),u.rb(1,0,null,null,2,"div",[["class","spinner-grow text-primary"],["role","status"],["style","width: 4rem; height: 4rem;"]],null,null,null,null,null)),(l()(),u.rb(2,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(l()(),u.Hb(-1,null,["Loading..."]))],null,null)}function A(l){return u.Jb(0,[(l()(),u.rb(0,0,null,null,4,"tr",[["mdbTableCol",""]],null,null,null,null,null)),(l()(),u.rb(1,0,null,null,1,"th",[["scope","row"]],null,null,null,null,null)),(l()(),u.Hb(2,null,["",""])),(l()(),u.rb(3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),u.Hb(4,null,["",""]))],null,function(l,n){var t=n.component;l(n,2,0,n.context.$implicit),l(n,4,0,t.barChartLabels[n.context.index])})}function B(l){return u.Jb(0,[(l()(),u.rb(0,0,null,null,44,"div",[["class","charts-container p-5"]],null,null,null,null,null)),(l()(),u.rb(1,0,null,null,23,"div",[["class","row mb-3"]],null,null,null,null,null)),(l()(),u.rb(2,0,null,null,22,"div",[["class","col-md-12"]],null,null,null,null,null)),(l()(),u.rb(3,0,null,null,21,"mdb-card",[],null,null,null,e.t,e.i)),u.qb(4,114688,null,0,s.K,[u.k,u.F],null,null),(l()(),u.rb(5,0,null,0,19,"mdb-card-body",[],null,null,null,e.s,e.h)),u.qb(6,114688,null,0,s.J,[u.k,u.F],null,null),(l()(),u.rb(7,0,null,0,15,"div",[["class","pl-4"]],null,null,null,null,null)),(l()(),u.rb(8,0,null,null,2,"button",[["color","primary"],["mdbBtn",""],["size","sm"]],null,[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.getExchangeRates("USD")&&u),u},null,null)),u.qb(9,81920,null,0,s.I,[u.k,u.F],{color:[0,"color"],size:[1,"size"]},null),(l()(),u.Hb(-1,null,["USD"])),(l()(),u.rb(11,0,null,null,2,"button",[["color","primary"],["mdbBtn",""],["size","sm"]],null,[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.getExchangeRates("PLN")&&u),u},null,null)),u.qb(12,81920,null,0,s.I,[u.k,u.F],{color:[0,"color"],size:[1,"size"]},null),(l()(),u.Hb(-1,null,["PLN"])),(l()(),u.rb(14,0,null,null,2,"button",[["color","primary"],["mdbBtn",""],["size","sm"]],null,[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.getExchangeRates("GBP")&&u),u},null,null)),u.qb(15,81920,null,0,s.I,[u.k,u.F],{color:[0,"color"],size:[1,"size"]},null),(l()(),u.Hb(-1,null,["GBP"])),(l()(),u.rb(17,0,null,null,2,"button",[["color","primary"],["mdbBtn",""],["size","sm"]],null,[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.getExchangeRates("JPY")&&u),u},null,null)),u.qb(18,81920,null,0,s.I,[u.k,u.F],{color:[0,"color"],size:[1,"size"]},null),(l()(),u.Hb(-1,null,["JPY"])),(l()(),u.rb(20,0,null,null,2,"button",[["color","primary"],["mdbBtn",""],["size","sm"]],null,[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.getExchangeRates("RUB")&&u),u},null,null)),u.qb(21,81920,null,0,s.I,[u.k,u.F],{color:[0,"color"],size:[1,"size"]},null),(l()(),u.Hb(-1,null,["RUB"])),(l()(),u.rb(23,0,null,0,1,"app-line-chart",[],null,null,null,c,o)),u.qb(24,114688,null,0,i,[],{dataset:[0,"dataset"],labels:[1,"labels"]},null),(l()(),u.rb(25,0,null,null,19,"div",[["class","row mb-3"]],null,null,null,null,null)),(l()(),u.rb(26,0,null,null,11,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),u.rb(27,0,null,null,10,"table",[["class","white text-center z-depth-1"],["mdbTable",""]],[[2,"table-striped",null],[2,"table-bordered",null],[2,"table-borderless",null],[2,"table-hover",null],[2,"table-sm",null],[2,"table-responsive",null]],null,null,null,null)),u.qb(28,81920,null,0,s.T,[u.k,u.F],null,null),(l()(),u.rb(29,0,null,null,5,"thead",[["class","primary-color text-white"]],null,null,null,null,null)),(l()(),u.rb(30,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),u.rb(31,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Hb(-1,null,["Value"])),(l()(),u.rb(33,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Hb(-1,null,["Label"])),(l()(),u.rb(35,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,A)),u.qb(37,278528,null,0,h.j,[u.Q,u.N,u.t],{ngForOf:[0,"ngForOf"]},null),(l()(),u.rb(38,0,null,null,6,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),u.rb(39,0,null,null,5,"mdb-card",[],null,null,null,e.t,e.i)),u.qb(40,114688,null,0,s.K,[u.k,u.F],null,null),(l()(),u.rb(41,0,null,0,3,"mdb-card-body",[],null,null,null,e.s,e.h)),u.qb(42,114688,null,0,s.J,[u.k,u.F],null,null),(l()(),u.rb(43,0,null,0,1,"app-pie-chart",[],null,null,null,f,d)),u.qb(44,114688,null,0,p,[],{dataset:[0,"dataset"],labels:[1,"labels"]},null)],function(l,n){var t=n.component;l(n,4,0),l(n,6,0),l(n,9,0,"primary","sm"),l(n,12,0,"primary","sm"),l(n,15,0,"primary","sm"),l(n,18,0,"primary","sm"),l(n,21,0,"primary","sm"),l(n,24,0,t.dataset,t.labels),l(n,28,0),l(n,37,0,t.barChartDataset[0].data),l(n,40,0),l(n,42,0),l(n,44,0,t.barChartDataset,t.barChartLabels)},function(l,n){l(n,27,0,u.Bb(n,28).striped,u.Bb(n,28).bordered,u.Bb(n,28).borderless,u.Bb(n,28).hover,u.Bb(n,28).small,u.Bb(n,28).responsive)})}function _(l){return u.Jb(0,[(l()(),u.rb(0,0,null,null,11,"div",[["class","container-fluid"]],null,null,null,null,null)),(l()(),u.rb(1,0,null,null,4,"div",[["class","section-header"]],null,null,null,null,null)),(l()(),u.rb(2,0,null,null,1,"h3",[["class","grey-text"]],null,null,null,null,null)),(l()(),u.Hb(-1,null,["Charts"])),(l()(),u.rb(4,0,null,null,1,"p",[["class","grey-text pt-3"]],null,null,null,null,null)),(l()(),u.Hb(-1,null,["Visualisation of data downloaded from an external API"])),(l()(),u.ib(16777216,null,null,2,null,k)),u.qb(7,16384,null,0,h.k,[u.Q,u.N],{ngIf:[0,"ngIf"]},null),u.Cb(131072,h.b,[u.h]),(l()(),u.ib(16777216,null,null,2,null,B)),u.qb(10,16384,null,0,h.k,[u.Q,u.N],{ngIf:[0,"ngIf"]},null),u.Cb(131072,h.b,[u.h])],function(l,n){var t=n.component;l(n,7,0,u.Ib(n,7,0,u.Bb(n,8).transform(t.isLoading$))),l(n,10,0,!u.Ib(n,10,0,u.Bb(n,11).transform(t.isLoading$)))},null)}function H(l){return u.Jb(0,[(l()(),u.rb(0,0,null,null,1,"app-charts",[],null,null,null,_,L)),u.qb(1,245760,null,0,z,[O.n],null,null)],function(l,n){l(n,1,0)},null)}var x=u.nb("app-charts",z,H,{},{},[]),T=t("ZYCi"),w=function(){return function(){}}(),F={lineChartData:{},barChartData:{},lineChartLoading:!1,barChartLoading:!1,error:null};function I(l,n){switch(void 0===l&&(l=F),n.type){case b.LINE_CHART_QUERY:return Object.assign({},l,{lineChartLoading:!0});case b.BAR_CHART_QUERY:return Object.assign({},l,{barChartLoading:!0});case b.LINE_CHART_LOADED:return Object.assign({},l,{lineChartData:n.payload.lineChartData,lineChartLoading:!1});case b.BAR_CHART_LOADED:return Object.assign({},l,{barChartData:n.payload.barChartData,barChartLoading:!1});case b.CHARTS_ERROR:return Object.assign({},l,{error:n.payload.error});default:return l}}var q=t("mrSG"),N=t("jYNz"),U=t("67Y/"),S=t("/PH2"),Q=t("15JJ"),J=t("9Z1F"),Y=t("F/XL"),P=function(){function l(l,n,t){var u=this;this.actions$=l,this.chartsService=n,this.store=t,this.lineChartQuery$=this.actions$.pipe(Object(N.d)(b.LINE_CHART_QUERY),Object(U.a)(function(l){return l.payload}),Object(S.a)(this.store.pipe(Object(O.E)(j))),Object(Q.a)(function(l){var n=l[0],t=l[1];return!t.values||t.currencyName&&t.currencyName!==n.currency?u.chartsService.getExchangeRates(n.currency).pipe(Object(U.a)(function(l){return new C({lineChartData:l})}),Object(J.a)(function(l){return Object(Y.a)(new v({error:l}))})):Object(Y.a)(new C({lineChartData:t}))})),this.barChartQuery$=this.actions$.pipe(Object(N.d)(b.BAR_CHART_QUERY),Object(S.a)(this.store.pipe(Object(O.E)(D))),Object(Q.a)(function(l){var n=l[1];return n.values?Object(Y.a)(new m({barChartData:n})):u.chartsService.getLatestExchangeRates().pipe(Object(U.a)(function(l){return new m({barChartData:l})}),Object(J.a)(function(l){return Object(Y.a)(new v({error:l}))}))}))}return Object(q.b)([Object(N.b)(),Object(q.d)("design:type",Object)],l.prototype,"lineChartQuery$",void 0),Object(q.b)([Object(N.b)(),Object(q.d)("design:type",Object)],l.prototype,"barChartQuery$",void 0),l}(),$=t("t/Na"),G=function(){function l(l){this.http=l,this.startDate="2018-01-01",this.endDate="2018-01-31",this.apiHistoryUrl="https://api.exchangeratesapi.io/history",this.apiLatestUrl="https://api.exchangeratesapi.io/latest"}return l.prototype.getExchangeRates=function(l){return this.http.get(this.apiHistoryUrl+"?start_at="+this.startDate+"&end_at="+this.endDate+"&symbols="+l).pipe(Object(U.a)(function(l){return l.rates}),Object(Q.a)(function(n){var t=[];for(var u in n)n.hasOwnProperty(u)&&t.push({date:u,value:n[u][l]});var r=t.sort(function(l,n){return l.date<n.date?-1:l.date>n.date?1:0}),e=l,a=r.map(function(l){return l.date}),s=r.map(function(l){return l.value});return Object(Y.a)({currencyName:e,values:s,labels:a})}))},l.prototype.getLatestExchangeRates=function(){return this.http.get(this.apiLatestUrl).pipe(Object(U.a)(function(l){var n=l.date,t=l.base,u=l.rates,r=[];for(var e in u)u.hasOwnProperty(e)&&r.push({currency:e,value:u[e]});return{date:n,base:t,values:r.map(function(l){return l.value}).slice(0,5),labels:r.map(function(l){return l.currency}).slice(0,5)}}))},l.ngInjectableDef=u.U({factory:function(){return new l(u.Y($.c))},token:l,providedIn:"root"}),l}();t.d(n,"ChartsDataModuleNgFactory",function(){return M});var M=u.ob(r,[],function(l){return u.yb([u.zb(512,u.j,u.db,[[8,[e.b,a.a,x]],[3,u.j],u.z]),u.zb(4608,h.m,h.l,[u.v,[2,h.u]]),u.zb(4608,s.V,s.V,[]),u.zb(1073742336,h.c,h.c,[]),u.zb(1073742336,s.k,s.k,[]),u.zb(1073742336,s.o,s.o,[]),u.zb(1073742336,s.j,s.j,[]),u.zb(1073742336,s.jb,s.jb,[]),u.zb(1073742336,T.n,T.n,[[2,T.t],[2,T.k]]),u.zb(1073742336,w,w,[]),u.zb(1024,O.F,function(){return[{}]},[]),u.zb(1024,O.j,function(){return[{key:"charts",reducerFactory:O.z,metaReducers:[],initialState:void 0}]},[]),u.zb(1024,O.G,O.H,[u.r,O.F,O.j]),u.zb(1024,O.q,function(){return[I]},[]),u.zb(1024,O.r,function(l){return[l]},[O.q]),u.zb(1024,O.b,function(l,n,t){return[O.w(l,n,t)]},[u.r,O.q,O.r]),u.zb(1073873408,O.o,O.o,[O.G,O.b,O.g,O.p]),u.zb(512,P,P,[N.a,G,O.n]),u.zb(1024,N.i,function(l){return[N.e(l)]},[P]),u.zb(1073742336,N.g,N.g,[N.f,N.i,[2,O.p],[2,O.o]]),u.zb(1073742336,r,r,[]),u.zb(1024,T.i,function(){return[[{path:"",component:z}]]},[])])})}}]);